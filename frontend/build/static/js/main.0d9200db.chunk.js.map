{"version":3,"sources":["components/Loader/index.tsx","services/TokenStorage.ts","services/Connect.ts","components/LoginPage/index.tsx","components/PhotoUpload/index.tsx","components/Invite/index.tsx","components/UserPage/index.tsx","components/RegisterPage/index.tsx","components/UsersPage/index.tsx","components/InvitePage/InviteCard/index.tsx","components/InvitePage/index.tsx","components/PrivateRoute/index.tsx","components/Root/index.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["Loader","className","React","Component","cookies","Cookies","setToken","token","set","path","getToken","get","removeToken","LOGIN_PATH","tryLogin","email","password","axiosInstance","a","data","post","getConfig","res","config","headers","tokenRes","classNames","require","LoginPage","props","onSubmit","e","setState","loading","preventDefault","state","then","customHistory","push","finally","setEmail","target","value","length","setPassword","errors","this","rest","classes","method","buttonText","title","label","onChange","type","to","UPLOAD_PATH","PhotoUpload","file","formData","FormData","append","photoSrc","files","photoSrcRes","Header","Title","Body","src","alt","FileInput","Footer","onClick","STAT_PATH","Invite","componentDidMount","registered","wait","render","color","icon","header","toString","footer","UPDATE_PATH","UserPage","put","user","description","onSubmitPassword","loadingPassword","oldPassword","newPassword","setOldPassword","setNewPassword","setDescription","id","photo","Content","Row","cards","Col","width","sm","lg","readOnly","REGISTRATION_PATH","RegisterPage","loaded","tryRegistration","getData","inviteCode","invite_code","setStateField","field","match","params","for_email","history","location","UsersPage","updateUsers","setPage","page","users","pages","BackToProfile","pagesRes","i","ColHeader","map","List","InviteCard","copied","invite","code","text","onCopy","INVITE_PATH","InvitePage","updateData","catch","invites","PrivateRoute","children","pathname","from","Root","errorHandler","error","errorMessage","response","request","status","url","responseURL","indexOf","error_description","errorItem","property_path","replace","message","error_message","setErrors","Promise","reject","setTimeout","defaultProps","Main","exact","axios","create","baseURL","interceptors","use","createBrowserHistory","App","Boolean","window","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.0d9200db.chunk.js","sourcesContent":["import React from 'react';\nimport './styles.css';\n\nclass Loader extends React.Component{\n    render() {\n        return <div className={\"loader-element\"}> </div>;\n    }\n}\n\nexport default Loader;","import Cookies from 'universal-cookie';\nconst cookies = new Cookies();\nexport function setToken(token: string | null) {\n    cookies.set('token', token, { path: '/' });\n}\n\nexport function getToken(): string | null {\n    return cookies.get('token');\n}\n\nexport function removeToken() {\n    cookies.set('token', \"\", { path: '/' });\n}","import {getToken, setToken} from './TokenStorage';\nimport {AxiosInstance} from \"axios\";\n\nconst LOGIN_PATH = \"/api/auth/login\";\n\nexport function getUrl(path: string) {\n    return `http://symfony.localhost${path}`\n}\n\nexport function getInnerUrl(path: string) {\n    return `http://localhost:4000${path}`\n}\n\nexport async function tryLogin(email: string, password: string, axiosInstance: AxiosInstance) {\n    const data = {email, password};\n    let res = await axiosInstance.post(LOGIN_PATH, data, getConfig(false));\n    const token = res.data.token;\n    setToken(token);\n}\n\nexport function getConfig(token: string | null | false = null) {\n    let config = {\n        headers: {\n            'content-type': 'application/json',\n        }\n    };\n\n    const tokenRes = (token === null) ? getToken() : token;\n\n    if(tokenRes){\n        config.headers = {...config.headers, ...{\"authorization\":`Bearer ${tokenRes}`}};\n    }\n\n    return config;\n}","import React, {ChangeEvent, FormEvent} from 'react';\n\nimport { FormCard, FormTextInput, Card} from \"tabler-react\";\nimport {Link} from \"react-router-dom\";\nimport \"tabler-react/dist/Tabler.css\";\n\nimport {setToken} from \"../../services/TokenStorage\"\nimport Loader from \"../Loader\";\n\nimport types from './types';\nimport \"./styles.css\";\nimport {tryLogin} from \"../../services/Connect\";\n\nlet classNames = require('classnames');\n\nclass LoginPage extends React.Component<types.Props, types.State>{\n\n    constructor(props: types.Props) {\n        super(props);\n        this.state = {\n            email: this.props.email || \"\",\n            password: this.props.password || \"\",\n            errors: [],\n            loading: false\n        };\n    }\n\n    onSubmit = async (e: FormEvent) => {\n        this.setState({loading: true})\n        e.preventDefault();\n        const {email, password} = this.state;\n        tryLogin(email, password, this.props.axiosInstance).then(() => {\n            const history = this.props.customHistory;\n            history.push(\"/user/me\");\n        }).finally(() => {\n            this.setState({loading:false});\n        });\n    }\n\n    setEmail = (e: ChangeEvent<HTMLInputElement>) => {\n        let email = \"\";\n        if(e.target && e.target.value && e.target.value.length > 0){\n            email = e.target.value;\n        }\n\n        this.setState({email});\n    }\n\n    setPassword = (e: ChangeEvent<HTMLInputElement>) => {\n        let password = \"\";\n        if(e.target && e.target.value && e.target.value.length > 0){\n            password = e.target.value;\n        }\n\n        this.setState({password});\n    }\n\n    render() {\n        const {className = false, customHistory, ...rest} = this.props;\n        const classes = classNames(\"wrapper\", className);\n\n        if(this.state.loading){\n            return <Loader/>;\n        }\n        return (\n            <>\n                <div className={classes} {...rest}>\n                    <FormCard onSubmit={ this.onSubmit } method={\"POST\"} buttonText={\"Login\"}  title={\"Login page\"}>\n                            <FormTextInput label={\"Email\"} onChange={ this.setEmail } type=\"email\" />\n                            <FormTextInput label={\"Password\"} onChange={ this.setPassword } type=\"password\" />\n                    </FormCard>\n                    <Card>\n                        <Link className=\"btn btn-sm btn-success\" to={\"/registration\"}>\n                            Registration\n                        </Link>\n                    </Card>\n                </div>\n            </>\n        );\n    }\n}\n\nexport default LoginPage;","import React, {ChangeEvent, FormEvent} from 'react';\n\nimport { Form, Button, Card} from \"tabler-react\";\nimport \"tabler-react/dist/Tabler.css\";\n\nimport {getConfig} from \"../../services/Connect\";\n\nimport types from './types';\nimport \"./styles.css\";\n\nconst UPLOAD_PATH = \"/api/photo\";\nlet classNames = require('classnames');\n\nclass PhotoUpload extends React.Component<types.Props, types.State>{\n\n    constructor(props: types.Props) {\n        super(props);\n        this.state = {\n            photoSrc: this.props.photoSrc,\n            file: null,\n            token: null\n        };\n    }\n\n    onSubmit = async (e: FormEvent) => {\n        e.preventDefault();\n\n        const {file} = this.state;\n\n        if(!file){\n            return;\n        }\n\n        const formData = new FormData();\n\n        formData.append('photo',file);\n\n        let config = getConfig();\n        config.headers[\"content-type\"] = 'multipart/form-data';\n\n        let res = await this.props.axiosInstance.post(UPLOAD_PATH, formData, config);\n\n        this.setState({\n            photoSrc: res.headers[\"x-location\"]\n            });\n\n    }\n\n    onChange = (e: ChangeEvent<HTMLInputElement>) => {\n        let file: File | null = null;\n        if(e.target && e.target.files && e.target.files.length > 0){\n            file = e.target.files[0];\n        }\n\n        this.setState({file});\n    }\n\n    render() {\n        const {className = false, photoSrc, ...rest} = this.props;\n        const photoSrcRes = this.state.photoSrc || photoSrc;\n\n        const classes = classNames(\"wrapper\", className);\n\n        return (\n                <Card className={classes} {...rest}>\n                    <Card.Header>\n                        <Card.Title>Your Photo</Card.Title>\n                    </Card.Header>\n                    <Card.Body>\n                        <>\n                        {photoSrcRes && <img className={\"PhotoUpload-photo\"}\n                                             src={`http://symfony.localhost/img/${photoSrcRes}`} alt={\"Profile\"}/>}\n\n                        <Form.FileInput  onChange={this.onChange}/>\n                        </>\n                    </Card.Body>\n                    <Card.Footer>\n                        <Button onClick={this.onSubmit} className={\"btn-block btn-primary\"}>Upload Photo</Button>\n                    </Card.Footer>\n                </Card>\n        );\n    }\n}\n\nexport default PhotoUpload;","import React from 'react';\nimport {Card, StampCard} from \"tabler-react\";\nimport {Link} from \"react-router-dom\";\n\nimport Loader from \"../Loader\";\nimport {getConfig} from \"../../services/Connect\";\n\nimport types from \"./types\";\n\nconst STAT_PATH = \"/api/stat/\";\nexport default class Invite extends React.Component<types.Props, types.State>{\n    constructor(props: types.Props){\n        super(props);\n        this.state = {\n            loading: true,\n            registered: 0,\n            wait: 0\n        };\n    }\n\n    componentDidMount = async () => {\n        const data = await this.props.axiosInstance.get(STAT_PATH, getConfig());\n\n        this.setState({\n            loading: false,\n            registered: data.data.registered,\n            wait: data.data.wait\n        });\n    }\n\n    render = () => {\n        return <Card>\n            <Card.Header>\n                <Card.Title>Statistics invites</Card.Title>\n            </Card.Header>\n            <Card.Body>\n                {\n                    this.state.loading ? <Loader/> : <>\n                        <StampCard\n                            color=\"red\"\n                            icon=\"users\"\n                            header={<>{this.state.registered.toString()} <small>Registered users</small></>}\n                            footer={`${this.state.wait.toString()} waited users`}\n                        />\n                        <Link className=\"btn btn-sm btn-success\" to={\"/invite\"}>\n                            Invite User\n                        </Link>\n                    </>\n                }\n\n            </Card.Body>\n        </Card>;\n    }\n}","import React, {ChangeEvent, FormEvent} from 'react';\nimport { Card, FormTextInput, Page, Grid, Button} from \"tabler-react\";\nimport \"tabler-react/dist/Tabler.css\";\n\nimport PhotoUpload from \"../PhotoUpload\";\nimport Invite from \"../Invite\";\nimport Loader from '../Loader';\n\nimport {removeToken} from \"../../services/TokenStorage\";\n\nimport types from './types';\nimport \"./styles.css\";\nimport {getConfig} from \"../../services/Connect\";\n\nconst UPDATE_PATH = \"/api/user/me\";\n\nclass UserPage extends React.Component<types.Props, types.State>{\n        constructor(props: types.Props){\n            super(props);\n            this.state = {\n                loading: true,\n                loadingPassword: false,\n                oldPassword: null,\n                newPassword: null,\n                user: {\n                    id: 0,\n                    email: \"loading...\",\n                    description: null,\n                    photo: null\n                }\n            }\n        }\n\n    onSubmit = async (e: FormEvent) => {\n        e.preventDefault();\n        this.setState({\n            loading: true\n        });\n        this.put({\"description\": this.state.user.description}).then(() => {\n            this.setState({loading: false});\n        }, () => {\n            this.setState({loading: false});\n        })\n    }\n\n    onSubmitPassword = async (e: FormEvent) => {\n        e.preventDefault();\n        this.setState({\n            loadingPassword: true\n        });\n        this.put({\"old_password\": this.state.oldPassword, \"password\": this.state.newPassword}, \"/password\").then(() => {\n            this.setState({loadingPassword: false});\n        }, () => {\n            this.setState({loadingPassword: false});\n        })\n    }\n\n    componentDidMount = async () => {\n        const data = await this.props.axiosInstance.get(UPDATE_PATH, getConfig());\n        const user: types.User = data.data;\n        this.setState({user, loading: false});\n    }\n\n    put = async (data: object, path: string = \"\") => {\n            return this.props.axiosInstance.put(UPDATE_PATH+path, data, getConfig());\n    }\n\n    setOldPassword = (e: ChangeEvent<HTMLInputElement>) => {\n        let oldPassword = null;\n        if(e.target && e.target.value && e.target.value.length > 0){\n            oldPassword = e.target.value;\n        }\n\n        this.setState({oldPassword});\n    }\n\n    setNewPassword = (e: ChangeEvent<HTMLInputElement>) => {\n        let newPassword = null;\n        if(e.target && e.target.value && e.target.value.length > 0){\n            newPassword = e.target.value;\n        }\n\n        this.setState({newPassword});\n    }\n\n    setDescription = (e: ChangeEvent<HTMLInputElement>) => {\n        let description = null;\n        if(e.target && e.target.value && e.target.value.length > 0){\n            description = e.target.value;\n        }\n\n        const {user} = this.state;\n        user.description = description;\n\n        this.setState({user});\n    }\n\n    render() {\n        const {axiosInstance, customHistory} = this.props;\n        const {user, loadingPassword, loading} = this.state;\n\n        const description = user.description || \"\";\n        return (\n                    <Page.Content title=\"Home User Page\">\n                        <Grid.Row cards={true}>\n                            <Grid.Col width={12} sm={8} lg={4}>\n                                <Card>\n                                    <Card.Header>\n                                        <Card.Title>Your Profile</Card.Title>\n                                    </Card.Header>\n\n                                    {loading ? <Loader/> : <>\n                                            <Card.Body className={\"p-6\"}>\n                                                <FormTextInput label={\"Id\"} type=\"text\"\n                                                               readOnly={true} value={user.id}/>\n                                                <FormTextInput label={\"Email\"} type=\"text\"\n                                                               readOnly={true} value={user.email}/>\n                                                <FormTextInput label={\"Description\"} type=\"textarea\"\n                                                               onChange={this.setDescription} value={description}/>\n                                            </Card.Body>\n                                            <Card.Footer>\n                                                <Button onClick={this.onSubmit} className={\"btn-block btn-primary\"}>Save Profile</Button>\n                                            </Card.Footer>\n                                        </>\n                                    }\n                                </Card>\n                                <Card>\n                                    <Card.Header>\n                                        <Card.Title>Change Password</Card.Title>\n                                    </Card.Header>\n                                        {loadingPassword ? <Loader/> : <>\n                                            <Card.Body className={\"p-6\"}>\n                                                <FormTextInput label={\"Old Password\"} type=\"password\"\n                                                               onChange={this.setOldPassword}/>\n                                                <FormTextInput label={\"New Password\"} type=\"password\"\n                                                               onChange={this.setNewPassword}/>\n                                            </Card.Body>\n                                            <Card.Footer>\n                                                <Button onClick={this.onSubmitPassword} className={\"btn-block btn-primary\"}>Change</Button>\n                                            </Card.Footer>\n                                        </>\n                                }\n                                </Card>\n                            </Grid.Col>\n                            <Grid.Col width={12} sm={8} lg={4}>\n                                <PhotoUpload axiosInstance={axiosInstance} photoSrc={user.photo}/>\n                            </Grid.Col>\n                            <Grid.Col width={12} sm={8} lg={4}>\n                                <Invite axiosInstance={axiosInstance} />\n                                <Card>\n                                    <Button className=\"btn btn-block btn-dark\" onClick={() => {\n                                        removeToken();\n                                        customHistory.push(\"/auth/login\");\n                                    }}>Logout</Button>\n                                </Card>\n\n                                <Card>\n                                    <Button className=\"btn btn-block btn-white\" onClick={() => {\n                                        customHistory.push(\"/user\");\n                                    }}>Users</Button>\n                                </Card>\n                            </Grid.Col>\n                        </Grid.Row>\n                    </Page.Content>\n        );\n    }\n}\n\nexport default UserPage;","import React, {ChangeEvent, FormEvent} from 'react';\nimport {Link} from \"react-router-dom\";\n\nimport { FormCard, FormTextInput, Card} from \"tabler-react\";\nimport \"tabler-react/dist/Tabler.css\";\n\nimport {getConfig, tryLogin} from \"../../services/Connect\";\n\nimport types from './types';\nimport \"./styles.css\";\nimport Loader from \"../Loader\";\n\n\nconst REGISTRATION_PATH = \"/api/registration\";\nlet classNames = require('classnames');\n\nclass RegisterPage extends React.Component<types.Props, types.State>{\n\n    constructor(props: types.Props) {\n        super(props);\n        this.state = {\n            loading: false,\n            email: \"\",\n            password: \"\",\n            invite_code: \"\",\n            errors: []\n        };\n    }\n\n    componentDidMount(): void {\n        const match = this.props.match;\n\n        const inviteCode = (match && match.params && match.params.invite_code) ? match.params.invite_code : null;\n\n        if(inviteCode){\n            this.setState({loading: true});\n            this.getData(inviteCode).then((res) => {\n                this.setState({\n                    invite_code: inviteCode,\n                    email: res.data.for_email,\n                    loading: false\n                });\n            }, () => {\n                this.setState({loading: false});\n            });\n        }\n    }\n\n    onSubmit = async (e: FormEvent) => {\n        e.preventDefault();\n        this.setState({loading: true});\n        const loaded = () => {this.setState({loading: false});}\n        this.tryRegistration().then(() => {\n            tryLogin(this.state.email, this.state.password, this.props.axiosInstance).then(() => {\n                this.props.customHistory.push(\"/user/me\");\n            }, loaded)\n        }, loaded);\n\n    }\n\n    getData = async (inviteCode: string) => {\n        return await this.props.axiosInstance.get(\"/api/registration_invite/\"+inviteCode, getConfig());\n    }\n\n    tryRegistration = async () => {\n        const {email, password, invite_code} = this.state;\n        const data = {email, password, invite_code};\n        return this.props.axiosInstance.post(REGISTRATION_PATH, data, getConfig(false));\n    }\n\n    setStateField = (field: 'email' | 'password' | 'invite_code') => {\n        return (e: ChangeEvent<HTMLInputElement>) => {\n            if(e.target && e.target.value){\n                let state = {...this.state};\n                state[field] = e.target.value;\n                this.setState(state);\n            }\n\n        }\n    }\n\n    render() {\n        const {className = false, axiosInstance, customHistory, match, history, location,  ...rest} = this.props;\n\n        const classes = classNames(\"wrapper\", className);\n        return (\n            <>\n                <div className={classes} {...rest}>\n                    {this.state.loading ? <Loader/> : <FormCard onSubmit={ this.onSubmit } method={\"POST\"} buttonText={\"Register\"} title={\"Registration page\"}>\n                            <FormTextInput label={\"Email\"} onChange={ this.setStateField('email') } type=\"text\" value={this.state.email}/>\n                            <FormTextInput label={\"Password\"} onChange={ this.setStateField('password') } type=\"password\" />\n                            <FormTextInput label={\"Invite Code\"} onChange={ this.setStateField('invite_code') } type=\"text\" value={this.state.invite_code}/>\n                    </FormCard>\n                    }\n                    <Card>\n                        <Link className=\"btn btn-sm btn-success\" to={\"/auth/login\"}>\n                            Back to login\n                        </Link>\n                    </Card>\n                </div>\n            </>\n        );\n    }\n}\n\nexport default RegisterPage;","import React from 'react';\nimport {Link} from \"react-router-dom\";\nimport \"tabler-react/dist/Tabler.css\";\nimport {Page, Tag, Table, Button} from \"tabler-react\";\n\nimport Loader from \"../Loader\";\nimport {getConfig, getUrl} from \"../../services/Connect\";\nimport UserPageTypes from \"../UserPage/types\";\n\nimport \"./styles.css\";\nimport types from './types';\n\nconst UPDATE_PATH = \"/api/user\";\n\nclass UsersPage extends React.Component<types.Props, types.State>{\n    constructor(props: types.Props){\n        super(props);\n        this.state = {\n            loading: true,\n            pages: 1,\n            page: 1,\n            users: []\n        }\n    }\n\n    componentDidMount = async () => {\n        await this.updateUsers(1);\n    }\n\n    setPage = (page: number) => {\n        this.setState({\n            page,\n            loading: true\n        });\n        this.updateUsers(page).then(() => {\n            this.setState({loading: false});\n        });\n    }\n\n    updateUsers = async (page: number) => {\n        const data = await this.props.axiosInstance.get(UPDATE_PATH+\"?page=\"+page, getConfig());\n        const users: UserPageTypes.User[] = data.data.users;\n        const pages = data.data.pages;\n\n        this.setState({users, pages, loading: false});\n    }\n\n    render() {\n        const {users, page, pages, loading} = this.state;\n\n        const BackToProfile = <>\n            <div>\n                <Link className={\"btn btn-success\"} to={'/user/me'}>Back To Profile</Link>\n                <br/>\n            </div>\n        </>\n\n        if(loading){\n            return <Page.Content title=\"Users\">\n                <Loader/>\n                {BackToProfile}\n            </Page.Content>\n        }\n\n        if(users.length === 0){\n            return <Page.Content title=\"Users\">\n                Cannot find some user, please try again later\n                {BackToProfile}\n            </Page.Content>\n        }\n        const pagesRes = [];\n        for(let i = page - 5; i <= pages; i++){\n            if(i < 1){\n                continue;\n            }\n            if(pagesRes.length >= 7){\n                break;\n            }\n            pagesRes.push(<Button onClick={ () => {\n                this.setPage(i);\n            }}>{i}</Button>);\n        }\n        return (\n                    <Page.Content title=\"Users\">\n                        <Table>\n                            <Table.Header>\n                                <Table.ColHeader>Username</Table.ColHeader>\n                                <Table.ColHeader>Description</Table.ColHeader>\n                                <Table.ColHeader>Photo</Table.ColHeader>\n                            </Table.Header>\n                            <Table.Body>\n\n                                {users.map((user: UserPageTypes.User) => <Table.Row>\n                                    <Table.Col>\n                                        <Tag.List>\n                                              <Tag color=\"blue\">{user.email}</Tag>\n                                         </Tag.List>\n                                    </Table.Col>\n                                    <Table.Col>{user.description}</Table.Col>\n                                    <Table.Col>\n                                        {\n                                            user.photo && <img className={\"big-img\"} alt=\"Profile\" src={getUrl(\"/img/\"+user.photo)}/>\n                                        }\n                                    </Table.Col>\n                                </Table.Row>)}\n\n                            </Table.Body>\n                        </Table>\n                        <div>\n                            {pagesRes}\n                        </div>\n                        {BackToProfile}\n                    </Page.Content>\n        );\n    }\n}\n\nexport default UsersPage;","import React from 'react';\nimport {FormTextInput, Grid, Button} from \"tabler-react\";\nimport \"tabler-react/dist/Tabler.css\";\nimport CopyToClipboard from 'react-copy-to-clipboard';\n\nimport {getInnerUrl} from \"../../../services/Connect\";\n\nimport types from './types';\n\nclass InviteCard extends React.Component<types.Props, types.State>{\n\n    constructor(props: types.Props) {\n        super(props);\n        this.state = {\n            copied: false\n        };\n    }\n\n    render() {\n        const {...invite} = this.props;\n\n        return <>\n            <Grid.Row cards={true}>\n                <Grid.Col width={12} sm={12} lg={6}>\n                    <FormTextInput label={\"Invite Code\"} readOnly={true} type=\"text\" value={invite.code} />\n                </Grid.Col>\n                <Grid.Col width={12} sm={12} lg={6}>\n                    <FormTextInput label={\"To\"} readOnly={true} type=\"text\" value={invite.for_email} />\n                </Grid.Col>\n            </Grid.Row>\n            <Grid.Row cards={true}>\n                <Grid.Col width={12} sm={12} lg={12}>\n                    <CopyToClipboard text={getInnerUrl(\"/registration/\"+invite.code)}\n                                     onCopy={ () => this.setState({copied: true}) }>\n                        <Button className={\"btn-primary\"}>\n                            {this.state.copied ? <>Copied</> : <>Copy registration link</>}\n                        </Button>\n                    </CopyToClipboard>\n                </Grid.Col>\n            </Grid.Row>\n            <br/>\n        </>\n    }\n}\n\nexport default InviteCard;","import React, {ChangeEvent, FormEvent} from 'react';\nimport {Link} from \"react-router-dom\";\nimport { FormCard, FormTextInput, Card} from \"tabler-react\";\nimport \"tabler-react/dist/Tabler.css\";\n\nimport {getConfig} from \"../../services/Connect\";\nimport Loader from '../Loader';\n\nimport types from './types';\nimport InviteCard from \"../InvitePage/InviteCard\";\n\nconst INVITE_PATH = \"/api/invite\";\n\nclass InvitePage extends React.Component<types.Props, types.State>{\n\n    constructor(props: types.Props) {\n        super(props);\n        this.state = {\n            loading: true,\n            email: \"\",\n            invites: [],\n            errors: []\n        };\n        this.updateData();\n    }\n\n    onSubmit = async (e: FormEvent) => {\n        e.preventDefault();\n        const data = {to: this.state.email};\n        this.setState({loading: true});\n\n        this.props.axiosInstance.post(INVITE_PATH, data, getConfig()).then(() => {\n            this.updateData();\n        }).catch(()=>{this.setState({loading: false});})\n\n    }\n\n    updateData = () => {\n        this.props.axiosInstance.get(INVITE_PATH, getConfig()).then((data) => {\n            if(data.data){\n                this.setState({invites: data.data, loading: false});\n            }\n        }).catch(()=>{this.setState({loading: false});});\n    }\n\n\n    setEmail = (e: ChangeEvent<HTMLInputElement>) => {\n        let email = \"\";\n        if(e.target && e.target.value && e.target.value.length > 0){\n            email = e.target.value;\n        }\n\n        this.setState({email});\n    }\n\n    render() {\n        const {className = false, ...rest} = this.props;\n        const classes = \"wrapper \"+className;\n\n        const {loading, invites} = this.state;\n\n        return (\n            <>\n                <div className={classes} {...rest}>\n                    <FormCard onSubmit={ this.onSubmit } method={\"POST\"} buttonText={\"Generate\"} title={\"Generate invite\"}>\n                        <FormTextInput label={\"Person Email\"} onChange={ this.setEmail } type=\"email\" />\n                    </FormCard>\n                    {\n                        loading ? <Loader/> : invites.map((invite) => {\n                          return <><InviteCard code={invite.code} for_email={invite.for_email}/></>\n                        })\n                    }\n                    <Card>\n                        <Link to={\"/user/me\"} className=\"btn btn-sm btn-success\" >\n                            Back to user page\n                        </Link>\n                    </Card>\n                </div>\n\n\n            </>\n        );\n    }\n}\n\nexport default InvitePage;","import React from 'react';\nimport {Route, Redirect} from \"react-router\";\n\nimport {getToken} from \"../../services/TokenStorage\";\n\nimport types from \"./types\";\n\nexport default class PrivateRoute extends React.Component<types.Props>{\n\n    render = () => {\n\n        return (\n            <Route {...this.props} render={({ location }) =>\n                    getToken() ? (\n                        this.props.children\n                    ) : (\n                        <Redirect\n                            to={{\n                                pathname: \"/auth/login\",\n                                state: { from: location }\n                            }}\n                        />\n                    )\n                }\n            />\n        );\n    }\n}","import React from 'react';\nimport {Router, Switch} from \"react-router\";\nimport {Link, Route} from \"react-router-dom\";\nimport { Page, Alert } from \"tabler-react\";\nimport \"tabler-react/dist/Tabler.css\";\nimport axios, {AxiosInstance} from \"axios\";\nimport { createBrowserHistory, History } from 'history';\n\n\nimport LoginPage from \"../LoginPage\"\nimport UserPage from \"../UserPage\"\nimport RegisterPage from \"../RegisterPage\"\nimport UsersPage from \"../UsersPage\";\nimport InvitePage from \"../InvitePage\";\n\nimport {removeToken} from \"../../services/TokenStorage\";\nimport PrivateRoute from \"../PrivateRoute\";\n\nimport \"./styles.css\";\nimport types from \"./types\";\n\nexport default class Root extends React.Component<types.Props, types.State>{\n    protected customHistory: History;\n\n    protected axiosInstance: AxiosInstance;\n\n    constructor(props: types.Props){\n        super(props);\n\n        const axiosInstance = axios.create({\n            baseURL: 'http://symfony.localhost'\n        })\n\n        axiosInstance.interceptors.response.use((config) => config, error => this.errorHandler(error));\n\n        this.axiosInstance = axiosInstance;\n        this.customHistory = createBrowserHistory();\n        this.state = {\n            errors: []\n        };\n    }\n\n    errorHandler = (error: any) => {\n        let errorMessage = \"Cannot do request, please try again.\";\n        let errors = [];\n        if(error.response && error.request && error.response.status) {\n            const {status, data} = error.response;\n            const url = error.request.responseURL;\n\n            if (status === 401 && url.indexOf(\"/api/auth/login\") === -1) {\n                errorMessage = \"Please login =)\";\n                removeToken();\n                this.customHistory.push('/auth/login');\n            }\n\n            else if (data.error_description && data.error_description.errors) {\n                errors = data.error_description.errors.map((errorItem: any) => {\n                    const field = errorItem.property_path.replace(\"[\", \"\").replace(\"]\", \"\");\n                    return field+\": \"+errorItem.message\n                });\n            }\n            else if(data.error_message){\n                errorMessage = data.error_message;\n            }\n            else if (status === 400) {\n                errorMessage = \"Validation error\";\n\n            }\n            else if (status === 401) {\n                errorMessage = \"Invalid credentials\";\n            }\n            else if (status === 413){\n                errorMessage = \"Too big request\"\n            }\n            else if (status >= 500){\n                errorMessage = \"Internal error please try again\"\n            }\n        }\n\n        if(errors.length === 0){\n            errors.push(errorMessage);\n        }\n\n        this.setErrors(errors);\n\n        return Promise.reject({ ...error })\n    }\n\n    setErrors = (errors: any) => {\n        this.setState({errors});\n        setTimeout(() => {\n            this.setState({errors: []});\n        }, 5000);\n    }\n\n    render = () => {\n        const errors = [...this.state.errors];\n\n        const {customHistory, axiosInstance} = this;\n        const defaultProps = {customHistory, axiosInstance};\n\n        return <Router history={this.customHistory}>\n        <Page>\n            <Page.Main>\n                {\n                    errors.length > 0 && <div className={\"errorsContainer\"}>\n                        {\n                            errors.map((error: string) => {\n                                return <Alert type=\"danger\" icon=\"alert-triangle\">\n                                    {error}\n                                </Alert>\n                            })\n                        }\n                    </div>\n                }\n                <Switch>\n                    <PrivateRoute path={\"/\"} exact={true}>\n                        <UserPage {...defaultProps}/>\n                    </PrivateRoute>\n                    <Route path={\"/auth/login\"}>\n                        <LoginPage {...defaultProps}/>\n                    </Route>\n                    <Route path={\"/registration/:invite_code\"} render={(props) => {\n                        return <RegisterPage {...defaultProps} {...props}/>\n\n                    }}/>\n                    <Route path={\"/registration\"}>\n                        <RegisterPage {...defaultProps}/>\n                    </Route>\n                    <PrivateRoute path={\"/user/me\"}>\n                        <UserPage {...defaultProps}/>\n                    </PrivateRoute>\n                    <PrivateRoute path={\"/user\"}>\n                        <UsersPage {...defaultProps}/>\n                    </PrivateRoute>\n                    <PrivateRoute path={\"/invite\"}>\n                        <InvitePage axiosInstance={axiosInstance}/>\n                    </PrivateRoute>\n                    <Route path=\"*\">\n                        <div>This page not exist :( <Link to={\"/\"}>Go Home!</Link></div>\n                    </Route>\n                </Switch>\n            </Page.Main>\n        </Page></Router>;\n    }\n}","import React from 'react';\n\nimport Root from \"./components/Root\";\n\nimport './App.css';\n\nconst App: React.FC = () => {\n  return (\n    <div className=\"App\">\n        <Root className={\"App-center\"}/>\n    </div>\n  );\n}\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}